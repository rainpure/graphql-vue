{"version":3,"sources":["webpack:///static/js/app.e1b6446e4d934f5c38b4.js","webpack:///./src/App.vue","webpack:///./src/resources.js","webpack:///App.vue","webpack:///PostList.vue","webpack:///./src/main.js","webpack:///./src/PostList.vue","webpack:///./src/App.vue?017f","webpack:///./src/PostList.vue?21bd"],"names":["webpackJsonp","10","module","exports","__webpack_require__","Component","12","2","__webpack_exports__","host","console","warn","resources","graphQlApi","30","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0__PostList_vue__","__WEBPACK_IMPORTED_MODULE_0__PostList_vue___default","n","name","components","PostList","a","31","__WEBPACK_IMPORTED_MODULE_0__resources__","data","posts","author","addParams","title","digest","methods","getPosts","_this","this","$ajax","post","query","then","res","slice","sort","x","y","agree","addPost","variables","upvote","postId","getAuthor","id","mounted","32","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App_vue__","__WEBPACK_IMPORTED_MODULE_1__App_vue___default","__WEBPACK_IMPORTED_MODULE_3_axios__","__WEBPACK_IMPORTED_MODULE_3_axios___default","prototype","el","render","h","35","36","_vm","_h","$createElement","_c","_self","staticClass","staticRenderFns","37","_v","directives","rawName","expression","attrs","type","domProps","on","input","$event","target","composing","click","_l","key","src","img","_s","firstName"],"mappings":"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","file":"static/js/app.e1b6446e4d934f5c38b4.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(12)\n\nvar Component = __webpack_require__(8)(\n  /* script */\n  __webpack_require__(30),\n  /* template */\n  __webpack_require__(36),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 2:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar debug =  false ? true : false;\n// 测试环境地址\nif (debug) {\n    // var host = 'http://localhost:8080';\n    // var host = 'http://172.16.2.221:8080'; // 公司\n    var host = 'http://192.168.1.23:8080'; // 宿舍\n} else {\n    //正式环境地址\n    // var host = 'http://172.16.2.221:8080'; // 公司\n    var host = 'http://192.168.1.23:8080'; // 宿舍\n}\nconsole.warn('当前resource: ', host);\n\nvar resources = {\n    host: host,\n    // graphQL查询Api\n    graphQlApi: host + '/graphql'\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (resources);\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PostList_vue__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__PostList_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__PostList_vue__);\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tname: 'app',\n\tcomponents: {\n\t\tPostList: __WEBPACK_IMPORTED_MODULE_0__PostList_vue___default.a\n\t}\n});\n\n/***/ }),\n\n/***/ 31:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__resources__ = __webpack_require__(2);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n// GraphQL query\nvar postsAdd = '\\nmutation addPost(\\n\\t$title: String!\\n\\t$digest: String\\n\\t$author: String\\n) {\\n\\taddPost(\\n\\t\\ttitle: $title\\n\\t\\tdigest: $digest\\n\\t\\tauthor: $author\\n\\t) {\\n\\t\\tid\\n\\t\\ttitle\\n\\t\\tdigest\\n\\t\\tauthor {\\n\\t\\t\\tfirstName\\n\\t\\t}\\n\\t}\\n}';\nvar postsQuery = '\\nquery {\\n\\tposts {\\n\\t\\tid\\n\\t\\ttitle\\n\\t\\tagree\\n\\t\\tdigest\\n\\t\\timg\\n\\t\\tauthor {\\n\\t\\t\\tid\\n\\t\\t\\tfirstName\\n\\t\\t}\\n\\t}\\n}';\nvar upvoteMutation = '\\nmutation upvotePost($postId: Int!) {\\n\\tupvotePost(postId: $postId) {\\n\\t\\tid\\n\\t\\tagree\\n\\t}\\n}\\n';\nvar authorQuery = '\\nquery ($id: Int!) {\\n\\tauthor(id: $id) {\\n\\t\\tid\\n\\t\\tfirstName\\n\\t}\\n}\\n';\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n\tdata: function data() {\n\t\treturn {\n\t\t\tposts: [],\n\t\t\tauthor: {},\n\t\t\taddParams: {\n\t\t\t\ttitle: '',\n\t\t\t\tdigest: '',\n\t\t\t\tauthor: ''\n\t\t\t}\n\t\t};\n\t},\n\n\tmethods: {\n\t\tgetPosts: function getPosts() {\n\t\t\tvar _this = this;\n\t\t\tthis.$ajax.post('' + __WEBPACK_IMPORTED_MODULE_0__resources__[\"a\" /* default */].graphQlApi, {\n\t\t\t\t'query': '' + postsQuery\n\t\t\t}).then(function (res) {\n\t\t\t\t_this.posts = res.data.data.posts.slice().sort(function (x, y) {\n\t\t\t\t\treturn y.agree - x.agree;\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\taddPost: function addPost() {\n\t\t\tvar _this = this;\n\t\t\tthis.$ajax.post('' + __WEBPACK_IMPORTED_MODULE_0__resources__[\"a\" /* default */].graphQlApi, {\n\t\t\t\tquery: '' + postsAdd,\n\t\t\t\tvariables: {\n\t\t\t\t\ttitle: _this.addParams.title,\n\t\t\t\t\tdigest: _this.addParams.digest,\n\t\t\t\t\tauthor: _this.addParams.author\n\t\t\t\t}\n\t\t\t}).then(function (res) {\n\t\t\t\t_this.getPosts();\n\t\t\t});\n\t\t},\n\t\tupvote: function upvote(postId) {\n\t\t\tvar _this = this;\n\t\t\tthis.$ajax.post('' + __WEBPACK_IMPORTED_MODULE_0__resources__[\"a\" /* default */].graphQlApi, {\n\t\t\t\tquery: '' + upvoteMutation,\n\t\t\t\tvariables: {\n\t\t\t\t\tpostId: postId\n\t\t\t\t}\n\t\t\t}).then(function (res) {\n\t\t\t\t_this.getPosts();\n\t\t\t});\n\t\t},\n\t\tgetAuthor: function getAuthor(id) {\n\t\t\tvar _this = this;\n\t\t\tthis.$ajax.post('' + __WEBPACK_IMPORTED_MODULE_0__resources__[\"a\" /* default */].graphQlApi, {\n\t\t\t\tquery: '' + authorQuery,\n\t\t\t\tvariables: {\n\t\t\t\t\tid: id\n\t\t\t\t}\n\t\t\t}).then(function (res) {\n\t\t\t\t_this.author = res.data.data.author;\n\t\t\t});\n\t\t}\n\t},\n\tmounted: function mounted() {\n\t\tthis.getPosts();\n\t}\n});\n\n/***/ }),\n\n/***/ 32:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__resources__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_axios__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_axios__);\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].prototype.$ajax = __WEBPACK_IMPORTED_MODULE_3_axios___default.a;\n// Start the app\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App_vue___default.a);\n  }\n});\n\n/***/ }),\n\n/***/ 35:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(8)(\n  /* script */\n  __webpack_require__(31),\n  /* template */\n  __webpack_require__(37),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 36:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app\"\n  }, [_c('post-list')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 37:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"post-list\"\n  }, [_c('div', {\n    staticClass: \"add-book-form\"\n  }, [_c('p', [_vm._v(\"标题：\"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.addParams.title),\n      expression: \"addParams.title\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.addParams.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.addParams.title = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_vm._v(\"作者：\"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.addParams.author),\n      expression: \"addParams.author\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.addParams.author)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.addParams.author = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_vm._v(\"摘要：\"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.addParams.digest),\n      expression: \"addParams.digest\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.addParams.digest)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.addParams.digest = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('button', {\n    staticClass: \"button button--mini\",\n    on: {\n      \"click\": function($event) {\n        _vm.addPost()\n      }\n    }\n  }, [_vm._v(\"添加参赛作品\")])]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"book-list\"\n  }, _vm._l((_vm.posts), function(post) {\n    return _c('li', {\n      key: post.id,\n      staticClass: \"card book-item\"\n    }, [_c('img', {\n      staticClass: \"book-cover\",\n      attrs: {\n        \"src\": post.img\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"book-info\"\n    }, [_c('p', [_vm._v(_vm._s(post.title))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"author\"\n    }, [_vm._v(\" \" + _vm._s(post.author.firstName))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"digest\"\n    }, [_vm._v(\"“\" + _vm._s(post.digest) + \"”\")]), _vm._v(\" \"), _c('span', {\n      staticClass: \"vote\"\n    }, [_vm._v(\"获得票数：\" + _vm._s(post.agree))]), _vm._v(\" \"), _c('button', {\n      staticClass: \"button button--mini vote-btn\",\n      on: {\n        \"click\": function($event) {\n          _vm.upvote(post.id)\n        }\n      }\n    }, [_vm._v(\"投票\")])])])\n  })), _vm._v(\" \"), _c('button', {\n    staticClass: \"button button--mini\",\n    on: {\n      \"click\": function($event) {\n        _vm.getAuthor(1)\n      }\n    }\n  }, [_vm._v(\"获取author: \" + _vm._s(_vm.author) + \" \")])])\n},staticRenderFns: []}\n\n/***/ })\n\n},[32]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.e1b6446e4d934f5c38b4.js","\n/* styles */\nrequire(\"!!../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-rewriter?id=data-v-4a845d6a!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler?id=data-v-4a845d6a!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 10\n// module chunks = 1","const debug = process.env.NODE_ENV === 'development' ? true : false;\n// 测试环境地址\nif (debug) {\n    // var host = 'http://localhost:8080';\n    // var host = 'http://172.16.2.221:8080'; // 公司\n    var host = 'http://192.168.1.23:8080'; // 宿舍\n} else {\n    //正式环境地址\n    // var host = 'http://172.16.2.221:8080'; // 公司\n    var host = 'http://192.168.1.23:8080'; // 宿舍\n}\nconsole.warn('当前resource: ', host);\n\nlet resources = {\n    host: host,\n    // graphQL查询Api\n    graphQlApi: `${host}\\/graphql`\n};\n\nexport default resources;\n\n\n\n// WEBPACK FOOTER //\n// ./src/resources.js","<template>\n\t<div class=\"app\">\n\t\t<post-list></post-list>\n\t</div>\n</template>\n\n<script>\n\timport PostList from './PostList.vue';\n\n\texport default {\n\t\tname: 'app',\n\t\tcomponents: {\n\t\t\tPostList,\n\t\t},\n\t};\n\n</script>\n\n<style>\n@import 'styles/main.css';\n</style>\n\n\n// WEBPACK FOOTER //\n// App.vue?30dfff8e","<template>\n\t<div class=\"post-list\">\n\t\t<!-- <h1 class=\"title\">年度最受欢迎文学作品投票</h1> -->\n\t\t<div class=\"add-book-form\">\n\t\t\t<p>标题：<input type=\"text\" v-model=\"addParams.title\"></p>\n\t\t\t<p>作者：<input type=\"text\" v-model=\"addParams.author\"></p>\n\t\t\t<p>摘要：<input type=\"text\" v-model=\"addParams.digest\"></p>\n\t\t\t<button class=\"button button--mini\" @click=\"addPost()\">添加参赛作品</button>\n\t\t</div>\n\t\t<ul class=\"book-list\">\n\t\t\t<li v-for=\"post in posts\" :key=\"post.id\" class=\"card book-item\">\n\t\t\t\t<img :src=\"post.img\" class=\"book-cover\">\n\t\t\t\t<div class=\"book-info\">\n\t\t\t\t\t<p>{{ post.title }}</p>\n\t\t\t\t\t<p class=\"author\"> {{ post.author.firstName }}</p>\n\t\t\t\t\t<p class=\"digest\">“{{ post.digest }}”</p>\n\t\t\t\t\t<span class=\"vote\">获得票数：{{ post.agree }}</span>\n\t\t\t\t\t<button class=\"button button--mini vote-btn\" @click=\"upvote(post.id)\">投票</button>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t</ul>\n\t\t<button class=\"button button--mini\" @click=\"getAuthor(1)\">获取author: {{author}} </button>\n\t</div>\n</template>\n\n<script>\n\timport resources from './resources'\n\t// GraphQL query\n\tconst postsAdd = `\n\tmutation addPost(\n\t\t$title: String!\n\t\t$digest: String\n\t\t$author: String\n\t) {\n\t\taddPost(\n\t\t\ttitle: $title\n\t\t\tdigest: $digest\n\t\t\tauthor: $author\n\t\t) {\n\t\t\tid\n\t\t\ttitle\n\t\t\tdigest\n\t\t\tauthor {\n\t\t\t\tfirstName\n\t\t\t}\n\t\t}\n\t}`;\n\tconst postsQuery = `\n\tquery {\n\t\tposts {\n\t\t\tid\n\t\t\ttitle\n\t\t\tagree\n\t\t\tdigest\n\t\t\timg\n\t\t\tauthor {\n\t\t\t\tid\n\t\t\t\tfirstName\n\t\t\t}\n\t\t}\n\t}`;\n\tconst upvoteMutation = `\n\tmutation upvotePost($postId: Int!) {\n\t\tupvotePost(postId: $postId) {\n\t\t\tid\n\t\t\tagree\n\t\t}\n\t}\n\t`;\n\tconst authorQuery = `\n\tquery ($id: Int!) {\n\t\tauthor(id: $id) {\n\t\t\tid\n\t\t\tfirstName\n\t\t}\n\t}\n\t`;\n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tposts: [],\n\t\t\t\tauthor: {},\n\t\t\t\taddParams: {\n\t\t\t\t\ttitle: '',\n\t\t\t\t\tdigest: '',\n\t\t\t\t\tauthor: ''\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmethods: {\n\t\t\tgetPosts() {\n\t\t\t\tlet _this = this;\n\t\t\t\tthis.$ajax.post(`${resources.graphQlApi}`, {\n\t\t\t\t\t'query': `${postsQuery}`\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\t_this.posts = res.data.data.posts.slice().sort((x, y) => y.agree - x.agree);\n\t\t\t\t});\n\t\t\t},\n\t\t\taddPost() {\n\t\t\t\tlet _this = this;\n\t\t\t\tthis.$ajax.post(`${resources.graphQlApi}`, {\n\t\t\t\t\tquery: `${postsAdd}`,\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\ttitle: _this.addParams.title,\n\t\t\t\t\t\tdigest: _this.addParams.digest,\n\t\t\t\t\t\tauthor: _this.addParams.author\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\t_this.getPosts();\n\t\t\t\t});\n\t\t\t},\n\t\t\tupvote(postId) {\n\t\t\t\tlet _this = this;\n\t\t\t\tthis.$ajax.post(`${resources.graphQlApi}`, {\n\t\t\t\t\tquery: `${upvoteMutation}`,\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tpostId: postId\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\t_this.getPosts();\n\t\t\t\t});\n\t\t\t},\n\t\t\tgetAuthor(id) {\n\t\t\t\tlet _this = this;\n\t\t\t\tthis.$ajax.post(`${resources.graphQlApi}`, {\n\t\t\t\t\tquery: `${authorQuery}`,\n\t\t\t\t\tvariables: {\n\t\t\t\t\t\tid: id\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\t_this.author = res.data.data.author;\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tmounted: function () {\n\t\t\tthis.getPosts();\n\t\t}\n\t};\n\n</script>\n\n\n// WEBPACK FOOTER //\n// PostList.vue?6018dcf2","import Vue from 'vue';\nimport App from './App.vue';\nimport resources from './resources'\nimport axios from 'axios'\n\n\nVue.prototype.$ajax = axios;\n// Start the app\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var Component = require(\"!../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./PostList.vue\"),\n  /* template */\n  require(\"!!../node_modules/vue-loader/lib/template-compiler?id=data-v-56efff24!../node_modules/vue-loader/lib/selector?type=template&index=0!./PostList.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/PostList.vue\n// module id = 35\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"app\"\n  }, [_c('post-list')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-4a845d6a!./~/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 36\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"post-list\"\n  }, [_c('div', {\n    staticClass: \"add-book-form\"\n  }, [_c('p', [_vm._v(\"标题：\"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.addParams.title),\n      expression: \"addParams.title\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.addParams.title)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.addParams.title = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_vm._v(\"作者：\"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.addParams.author),\n      expression: \"addParams.author\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.addParams.author)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.addParams.author = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('p', [_vm._v(\"摘要：\"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.addParams.digest),\n      expression: \"addParams.digest\"\n    }],\n    attrs: {\n      \"type\": \"text\"\n    },\n    domProps: {\n      \"value\": (_vm.addParams.digest)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.addParams.digest = $event.target.value\n      }\n    }\n  })]), _vm._v(\" \"), _c('button', {\n    staticClass: \"button button--mini\",\n    on: {\n      \"click\": function($event) {\n        _vm.addPost()\n      }\n    }\n  }, [_vm._v(\"添加参赛作品\")])]), _vm._v(\" \"), _c('ul', {\n    staticClass: \"book-list\"\n  }, _vm._l((_vm.posts), function(post) {\n    return _c('li', {\n      key: post.id,\n      staticClass: \"card book-item\"\n    }, [_c('img', {\n      staticClass: \"book-cover\",\n      attrs: {\n        \"src\": post.img\n      }\n    }), _vm._v(\" \"), _c('div', {\n      staticClass: \"book-info\"\n    }, [_c('p', [_vm._v(_vm._s(post.title))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"author\"\n    }, [_vm._v(\" \" + _vm._s(post.author.firstName))]), _vm._v(\" \"), _c('p', {\n      staticClass: \"digest\"\n    }, [_vm._v(\"“\" + _vm._s(post.digest) + \"”\")]), _vm._v(\" \"), _c('span', {\n      staticClass: \"vote\"\n    }, [_vm._v(\"获得票数：\" + _vm._s(post.agree))]), _vm._v(\" \"), _c('button', {\n      staticClass: \"button button--mini vote-btn\",\n      on: {\n        \"click\": function($event) {\n          _vm.upvote(post.id)\n        }\n      }\n    }, [_vm._v(\"投票\")])])])\n  })), _vm._v(\" \"), _c('button', {\n    staticClass: \"button button--mini\",\n    on: {\n      \"click\": function($event) {\n        _vm.getAuthor(1)\n      }\n    }\n  }, [_vm._v(\"获取author: \" + _vm._s(_vm.author) + \" \")])])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-56efff24!./~/vue-loader/lib/selector.js?type=template&index=0!./src/PostList.vue\n// module id = 37\n// module chunks = 1"],"sourceRoot":""}